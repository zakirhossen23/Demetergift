(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[485],{859:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(809),i=n.n(r),s=n(5893),a=n(5311),o=n(9227),c=n(7294),d=n(1881),l=n(7833),u=n(5005),p=n(2358);function m(e){var t=e.show,n=e.onHide,r=e.contract,m=e.senderAddress,h=e.tokenId,x=e.eventId,g=e.type,b=e.Highestbid,f=(0,c.useState)(""),y=f[0],v=f[1],N=(0,p.Z)({type:"text",placeholder:"Amount"}),j=(0,o.Z)(N,2),k=j[0],w=j[1];function C(){document.getElementById("alert").style="contents",v("Amount cannot be under ".concat(b," ETH"))}function B(){return S.apply(this,arguments)}function S(){return(S=(0,a.Z)(i().mark((function e(){var t,n,s,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(k<b)){e.next=3;break}return C(),e.abrupt("return");case 3:return e.next=5,r.tokenURI(h);case 5:return t=e.sent,e.next=8,JSON.parse(t);case 8:return n=e.sent,Number(n.properties.price.description)<Number(k)&&(n.properties.price.description=k,n.properties.higherbidadd.description=m),s=new Date,a={title:"Asset Metadata Bids",type:"object",properties:{username:{type:"string",description:m},bid:{type:"string",description:k},time:{type:"string",description:s}}},e.next=14,r.createBid(h,JSON.stringify(a),JSON.stringify(n),x);case 14:o=e.sent,console.log(o),window.document.getElementsByClassName("btn-close")[0].click();case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.jsxs)(d.Z,{show:t,onHide:n,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,s.jsx)(d.Z.Header,{closeButton:!0,children:"Cryptopunk"==g?(0,s.jsx)(d.Z.Title,{id:"contained-modal-title-vcenter",children:"Bid Cryptopunk"}):(0,s.jsx)(d.Z.Title,{id:"contained-modal-title-vcenter",children:"Bid NFT"})}),(0,s.jsx)(d.Z.Body,{className:"show-grid",children:(0,s.jsxs)(l.Z,{children:[(0,s.jsx)("div",{id:"alert",style:{display:"none"},className:"alert alert-danger",role:"alert",children:y}),(0,s.jsxs)(l.Z.Group,{className:"mb-3",controlId:"formGroupName",children:[(0,s.jsx)(l.Z.Label,{children:"Bid Amount in ETH"}),w]}),(0,s.jsx)("div",{className:"d-grid",children:"Cryptopunk"==g?(0,s.jsx)(u.Z,{variant:"primary",onClick:B,children:"Bid Cryptopunk"}):(0,s.jsx)(u.Z,{variant:"primary",onClick:B,children:"Bid NFT"})})]})})]})}},4920:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(809),i=n.n(r),s=n(5893),a=n(5311),o=n(7294),c=n(1163),d=n(9008),l=(n(1664),n(859)),u=n(1881),p=n(1926);function m(e){var t=e.show,n=e.onHide,r=e.id,d=e.title,l=(0,p.Z)("ERC721"),m=l.contract,h=(l.signerAddress,(0,c.useRouter)()),x=(0,o.useState)([]),g=x[0],b=x[1];function f(e){return e<10?"0".concat(e):e}function y(e){return e<12?"AM":"PM"}var v=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});function N(){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)(i().mark((function e(){var t,n,s,a,o,c,d,l,u,p,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!m||!r){e.next=43;break}return e.next=4,m.tokenURI(r);case 4:return t=e.sent,console.log(t),n=[],e.next=9,m.getBidsSearchToken(r);case 9:s=e.sent,console.log(s),a=0;case 12:if(!(a<Number(10))){e.next=39;break}return e.next=15,s[a];case 15:return o=e.sent,c={},e.prev=17,e.next=20,JSON.parse(o);case 20:c=e.sent,e.next=25;break;case 23:e.prev=23,e.t0=e.catch(17);case 25:if(!c.title){e.next=36;break}d=0;try{d=v.format(Number(3817.09*c.properties.bid.description))}catch(i){}return e.t1=Number,e.next=31,m.getBidIdByUri(o);case 31:e.t2=e.sent,l=(0,e.t1)(e.t2),u=new Date(c.properties.time.description),p="".concat(f(u.getDate()),"/").concat(f(u.getMonth()+1),"/").concat(f(u.getFullYear())," ").concat(f(u.getHours()),":").concat(f(u.getMinutes()),":").concat(f(u.getSeconds())," ").concat(y(u.getHours())),n.push({Id:l,name:c.properties.username.description,time:p,bidprice:c.properties.bid.description,bidpriceusd:d});case 36:a++,e.next=12;break;case 39:console.log(n),b(n),document.getElementById("Loading")&&(document.getElementById("Loading").style="display:none"),document.getElementById("Loadingtable")&&((h=document.getElementById("Loadingtable")).style="display:block",h.setAttribute("id",""));case 43:e.next=48;break;case 45:e.prev=45,e.t3=e.catch(0),console.error(e.t3);case 48:case"end":return e.stop()}}),e,null,[[0,45],[17,23]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){N()}),[h.query,m]),(0,s.jsxs)(u.Z,{show:t,onHide:n,onShow:N,"aria-labelledby":"contained-modal-title-vcenter",size:"xl",centered:!0,children:[(0,s.jsx)(u.Z.Header,{closeButton:!0,children:(0,s.jsxs)(u.Z.Title,{id:"contained-modal-title-vcenter",children:["View Bid - ",d]})}),(0,s.jsx)(u.Z.Body,{className:"show-grid",children:(0,s.jsxs)("div",{id:"Loadingtable",style:{display:"none"},className:"",children:[(0,s.jsx)("div",{className:"tableHeader",children:(0,s.jsxs)("div",{className:"tableHeaderContainer",children:[(0,s.jsx)("div",{className:"tableheaderDateContainer",children:(0,s.jsx)("h4",{className:"header",children:"Date"})}),(0,s.jsx)("div",{className:"tableheaderUserContainer",children:(0,s.jsx)("h4",{className:"header",children:"User Name"})}),(0,s.jsx)("div",{className:"tableheaderBidContainer",children:(0,s.jsx)("h4",{className:"header",children:"Bid"})})]})})," ",g.map((function(e){return(0,s.jsx)("div",{className:"tableFullRowContainer",children:(0,s.jsx)("div",{className:"tableRowContainer",children:(0,s.jsxs)("div",{className:"tableRowCellContainer",children:[(0,s.jsx)("div",{className:"tableRowCellDateContainer",children:(0,s.jsx)("h5",{className:"cell",children:e.time})}),(0,s.jsx)("div",{className:"tableRowCellUserContainer",children:(0,s.jsx)("h5",{className:"cell",children:e.name})}),(0,s.jsx)("div",{className:"tableRowCellBidContainer",children:(0,s.jsxs)("h5",{className:"cell",children:["$",e.bidpriceusd," (",e.bidprice," ETH)"]})})]})})},e.Id)}))]})})]})}function h(e){var t=(0,p.Z)("ERC721"),n=t.contract,r=t.signerAddress,u=(0,c.useRouter)(),h=(0,o.useState)(-1),x=h[0],g=h[1],b=(0,o.useState)([]),f=b[0],y=b[1],v=(0,o.useState)(""),N=(v[0],v[1]),j=(0,o.useState)(""),k=(j[0],j[1]),w=(0,o.useState)(""),C=w[0],B=w[1],S=(0,o.useState)(""),E=S[0],Z=S[1],I=(0,o.useState)(""),T=I[0],A=I[1],D=(0,o.useState)(""),H=D[0],R=D[1],F=(0,o.useState)(""),M=F[0],L=F[1],O=(0,o.useState)(""),_=O[0],$=O[1],U=(0,o.useState)(""),P=U[0],G=U[1],J=(0,o.useState)(""),z=J[0],W=J[1],q=(0,o.useState)(""),K=q[0],V=q[1],X=(0,o.useState)(""),Y=X[0],Q=X[1],ee=(0,o.useState)(""),te=ee[0],ne=ee[1],re=(0,o.useState)(""),ie=(re[0],re[1]),se=(0,o.useState)(!1),ae=se[0],oe=se[1],ce=(0,o.useState)(!1),de=ce[0],le=ce[1],ue=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});function pe(e){var t=new Date(e).getTime()-(new Date).getTime(),n=Math.floor(t/864e5),r=Math.floor(t%864e5/36e5),i=Math.floor(t%36e5/6e4),s=Math.floor(t%6e4/1e3);return n.toString()+" Days "+r.toString()+" hours "+i.toString()+" minutes "+s.toString()+" seconds"}function me(e){var t=new Date(e).getTime()-(new Date).getTime(),n=Math.floor(t/864e5),r=Math.floor(t%864e5/36e5),i=Math.floor(t%36e5/6e4),s=Math.floor(t%6e4/1e3);return n.toString()+"d "+r.toString()+"h "+i.toString()+"m "+s.toString()+"s"}function he(){return xe.apply(this,arguments)}function xe(){return(xe=(0,a.Z)(i().mark((function e(){var t,r,s,a,o,c,d,l,p,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=u.query.id,!n||!t){e.next=59;break}return g(t),e.next=6,n.eventURI(t);case 6:return r=e.sent,s=[],e.next=10,n.gettokenSearchEventTotal(t);case 10:a=e.sent,o=0;case 12:if(!(o<Number(10))){e.next=38;break}return e.next=15,a[o];case 15:return c=e.sent,d={},e.prev=17,e.next=20,JSON.parse(c);case 20:d=e.sent,e.next=25;break;case 23:e.prev=23,e.t0=e.catch(17);case 25:if(!d.title){e.next=35;break}l=0;try{l=ue.format(Number(3817.09*d.properties.price.description))}catch(i){}return e.t1=Number,e.next=31,n.gettokenIdByUri(c);case 31:e.t2=e.sent,p=(0,e.t1)(e.t2),console.log(p),s.push({Id:p,name:d.properties.name.description,description:d.properties.description.description,Bidprice:l,price:Number(d.properties.price.description),type:d.properties.typeimg.description,image:d.properties.image.description});case 35:o++,e.next=12;break;case 38:return y(s),document.getElementById("Loading")&&(document.getElementById("Loading").style="display:none"),ie(r),m=JSON.parse(r),B(m.properties.Title.description),Z(ue.format(Number(3817.09*m.properties.Goal.description))),A(Number(m.properties.Goal.description)),R(pe(m.properties.Date.description)),L(m.properties.Date.description),$(me(m.properties.Date.description)),G(m.properties.logo.description),e.t3=N,e.next=52,n.name();case 52:return e.t4=e.sent,(0,e.t3)(e.t4),e.t5=k,e.next=57,n.symbol();case 57:e.t6=e.sent,(0,e.t5)(e.t6);case 59:e.next=64;break;case 61:e.prev=61,e.t7=e.catch(0),console.error(e.t7);case 64:case"end":return e.stop()}}),e,null,[[0,61],[17,23]])})))).apply(this,arguments)}function ge(e){W(e.target.getAttribute("tokenid")),V(e.target.getAttribute("title")),le(!0)}function be(e){W(e.target.getAttribute("tokenid")),ne(e.target.getAttribute("highestbid")),console.log(te),Q("NFT"),oe(!0)}function fe(e){W(e.target.getAttribute("tokenid")),Q("Cryptopunk"),ne(e.target.getAttribute("highestbid")),console.log(te),oe(!0)}return(0,o.useEffect)((function(){he()}),[u.query,n]),setInterval((function(){!function(){try{for(var e=document.getElementsByName("dateleft"),t=0;t<e.length;t++){var n=e[t].getAttribute("date");e[t].innerHTML=pe(n)}e=document.getElementsByName("date");for(var r=0;r<e.length;r++){n=e[r].getAttribute("date");e[r].innerHTML=me(n)}}catch(i){}}()}),1e3),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(d.default,{children:[(0,s.jsx)("title",{children:C}),(0,s.jsx)("meta",{name:"description",content:C}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)("div",{className:"row EventContainer",children:(0,s.jsxs)("div",{style:{display:"flex"},children:[(0,s.jsx)("img",{src:P,className:"AuctionImage"}),(0,s.jsxs)("div",{className:"DetialsContainer",children:[(0,s.jsx)("h4",{children:C}),(0,s.jsxs)("div",{className:"TextContainer",children:[(0,s.jsx)("h4",{children:"Goal: "}),(0,s.jsxs)("h4",{children:["$ ",E," (",T," ETH)"]})]}),(0,s.jsx)("div",{className:"TextContainer",children:(0,s.jsx)("h4",{name:"dateleft",date:M,children:H})})]})]})}),(0,s.jsx)("div",{id:"Loading",className:"LoadingArea",children:(0,s.jsx)("h1",{children:"Loading..."})}),f.map((function(e){return(0,s.jsx)("div",{className:"row ElementsContainer bgWhite",children:(0,s.jsxs)("div",{style:{display:"flex"},children:["Cryptopunk"==e.type?(0,s.jsx)("img",{src:e.image,className:"AuctionBidImage pixel"}):(0,s.jsx)("img",{src:e.image,className:"AuctionBidImage"}),(0,s.jsxs)("div",{style:{width:"100%"},children:[(0,s.jsxs)("div",{className:"DetialsContainer",style:{rowGap:"5px"},children:[(0,s.jsx)("h4",{children:e.name}),(0,s.jsxs)("h5",{style:{color:"rgb(139, 139, 139)"},children:["Type: ",e.type]}),(0,s.jsx)("div",{className:"TextContainer",children:(0,s.jsx)("h5",{style:{color:"#8B8B8B"},children:e.description})})]}),(0,s.jsxs)("div",{className:"ElementBottomContainer",children:[(0,s.jsxs)("div",{style:{width:"116px"},children:[(0,s.jsx)("h7",{className:"smallgrey",children:"Current bid"}),(0,s.jsxs)("h4",{className:"bidprice",children:["$ ",e.Bidprice," (",e.price," ETH)"]}),(0,s.jsx)("h7",{name:"date",date:M,className:"smallgrey",children:_})]}),(0,s.jsx)("div",{className:"BidAllcontainer",children:(0,s.jsxs)("div",{className:"Bidsbutton",children:[(0,s.jsx)("div",{tokenid:e.Id,title:e.name,onClick:ge,className:"Bidcontainer col",children:(0,s.jsx)("div",{tokenid:e.Id,title:e.name,className:"card BidcontainerCard",children:(0,s.jsx)("div",{tokenid:e.Id,title:e.name,className:"card-body bidbuttonText",children:"View"})})}),"Cryptopunk"==e.type?(0,s.jsx)("div",{tokenid:e.Id,highestbid:e.price,onClick:fe,className:"Bidcontainer col",children:(0,s.jsx)("div",{tokenid:e.Id,highestbid:e.price,className:"card BidcontainerCard",children:(0,s.jsx)("div",{tokenid:e.Id,highestbid:e.price,className:"card-body bidbuttonText",children:"Bid"})})}):(0,s.jsx)("div",{tokenid:e.Id,highestbid:e.price,onClick:be,className:"Bidcontainer col",children:(0,s.jsx)("div",{tokenid:e.Id,highestbid:e.price,className:"card BidcontainerCard",children:(0,s.jsx)("div",{tokenid:e.Id,highestbid:e.price,className:"card-body bidbuttonText",children:"Bid"})})})]})})]})]})]})},e.Id)})),(0,s.jsx)(l.Z,{show:ae,onHide:function(){oe(!1),he()},contract:n,Amount:r,tokenId:z,senderAddress:r,type:Y,eventId:x,Highestbid:te}),(0,s.jsx)(m,{show:de,onHide:function(){le(!1),he()},id:z,title:K})]})}},5451:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/donation/auction/[id]",function(){return n(4920)}])},1881:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var r,i=n(4036),s=n.n(i),a=n(9351),o=n(3004),c=n(7216),d=n(99);function l(e){if((!r&&0!==r||e)&&o.Z){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r}var u=n(2092),p=n(8146),m=n(5654),h=n(5088),x=n(6914),g=n(7294),b=n(8380),f=n(1645),y=n(1068),v=n(4680),N=(0,v.Z)("modal-body"),j=n(6467),k=n(600),w=n(5893);const C=g.forwardRef((({bsPrefix:e,className:t,contentClassName:n,centered:r,size:i,fullscreen:a,children:o,scrollable:c,...d},l)=>{const u=`${e=(0,k.vE)(e,"modal")}-dialog`,p="string"===typeof a?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return(0,w.jsx)("div",{...d,ref:l,className:s()(u,t,i&&`${e}-${i}`,r&&`${u}-centered`,c&&`${u}-scrollable`,a&&p),children:(0,w.jsx)("div",{className:s()(`${e}-content`,n),children:o})})}));C.displayName="ModalDialog";var B=C,S=(0,v.Z)("modal-footer"),E=n(2655);const Z=g.forwardRef((({bsPrefix:e,className:t,...n},r)=>(e=(0,k.vE)(e,"modal-header"),(0,w.jsx)(E.Z,{ref:r,...n,className:s()(t,e)}))));Z.displayName="ModalHeader",Z.defaultProps={closeLabel:"Close",closeButton:!1};var I=Z;const T=(0,n(9602).Z)("h4");var A=(0,v.Z)("modal-title",{Component:T});const D={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:B};function H(e){return(0,w.jsx)(y.Z,{...e,timeout:null})}function R(e){return(0,w.jsx)(y.Z,{...e,timeout:null})}const F=g.forwardRef((({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:i,children:y,dialogAs:v,"aria-labelledby":N,show:C,animation:B,backdrop:S,keyboard:E,onEscapeKeyDown:Z,onShow:I,onHide:T,container:A,autoFocus:D,enforceFocus:F,restoreFocus:M,restoreFocusOptions:L,onEntered:O,onExit:_,onExiting:$,onEnter:U,onEntering:P,onExited:G,backdropClassName:J,manager:z,...W},q)=>{const[K,V]=(0,g.useState)({}),[X,Y]=(0,g.useState)(!1),Q=(0,g.useRef)(!1),ee=(0,g.useRef)(!1),te=(0,g.useRef)(null),[ne,re]=(0,u.Z)(),ie=(0,m.Z)(q,re),se=(0,p.Z)(T),ae=(0,k.SC)();e=(0,k.vE)(e,"modal");const oe=(0,g.useMemo)((()=>({onHide:se})),[se]);function ce(){return z||(0,f.t)({isRTL:ae})}function de(e){if(!o.Z)return;const t=ce().getScrollbarWidth()>0,n=e.scrollHeight>(0,c.Z)(e).documentElement.clientHeight;V({paddingRight:t&&!n?l():void 0,paddingLeft:!t&&n?l():void 0})}const le=(0,p.Z)((()=>{ne&&de(ne.dialog)}));(0,h.Z)((()=>{(0,d.Z)(window,"resize",le),null==te.current||te.current()}));const ue=()=>{Q.current=!0},pe=e=>{Q.current&&ne&&e.target===ne.dialog&&(ee.current=!0),Q.current=!1},me=()=>{Y(!0),te.current=(0,x.Z)(ne.dialog,(()=>{Y(!1)}))},he=e=>{"static"!==S?ee.current||e.target!==e.currentTarget?ee.current=!1:null==T||T():(e=>{e.target===e.currentTarget&&me()})(e)},xe=(0,g.useCallback)((t=>(0,w.jsx)("div",{...t,className:s()(`${e}-backdrop`,J,!B&&"show")})),[B,J,e]),ge={...n,...K};B||(ge.display="block");return(0,w.jsx)(j.Z.Provider,{value:oe,children:(0,w.jsx)(b.Z,{show:C,ref:ie,backdrop:S,container:A,keyboard:!0,autoFocus:D,enforceFocus:F,restoreFocus:M,restoreFocusOptions:L,onEscapeKeyDown:e=>{E||"static"!==S?E&&Z&&Z(e):(e.preventDefault(),me())},onShow:I,onHide:T,onEnter:(e,t)=>{e&&(e.style.display="block",de(e)),null==U||U(e,t)},onEntering:(e,t)=>{null==P||P(e,t),(0,a.ZP)(window,"resize",le)},onEntered:O,onExit:e=>{null==te.current||te.current(),null==_||_(e)},onExiting:$,onExited:e=>{e&&(e.style.display=""),null==G||G(e),(0,d.Z)(window,"resize",le)},manager:ce(),transition:B?H:void 0,backdropTransition:B?R:void 0,renderBackdrop:xe,renderDialog:n=>(0,w.jsx)("div",{role:"dialog",...n,style:ge,className:s()(t,e,X&&`${e}-static`),onClick:S?he:void 0,onMouseUp:pe,"aria-labelledby":N,children:(0,w.jsx)(v,{...W,onMouseDown:ue,className:r,contentClassName:i,children:y})})})})}));F.displayName="Modal",F.defaultProps=D;var M=Object.assign(F,{Body:N,Header:I,Title:A,Footer:S,Dialog:B,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})}},function(e){e.O(0,[699,972,774,888,179],(function(){return t=5451,e(e.s=t);var t}));var t=e.O();_N_E=t}]);